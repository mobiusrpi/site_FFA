
{% extends '@EasyAdmin/layout.html.twig' %}
{% block title %}Liste des inscrits{% endblock %}

{% block main %}
    {{ parent() }}
    <section class="container mt-4">
        <div class="row justify-content-center">
            <div class='col-10'>
                <h3 class='mx-auto text-center fw-bold'>Liste des inscrits</h3>
            </div>
        </div>
        {% for message in app.flashes('success') %}
          <div class="alert alert-success mt-4">
            {{message}}
          </div> 
        {% endfor %}
        <table class="table table-dark w-auto">
            <thead class='table-dark'>
            <tr class='border-bottom'>
                <th class="text-center" scope="col">Categorie</th>
                <th class="text-center" scope="col">Immat.</th>
                <th class="text-center" scope="col">Vp</th>                
                <th class="text-center" scope="col">Nom prénom</th> 
                <th class="text-center" scope="col">Aéroclub</th>                 
                <th class="text-center" scope="col">Licence FFA</th>
                <th class="text-center" scope="col">Email</th>                 
                <th class="text-center" scope="col">Téléphone</th>                
                <th class="text-center" scope="col">CRA</th>                              
            </tr>                
        </thead>
            <tbody>      
                {% for registant in registants %}                  
                    {% if registant.category is defined %} 
                        <tr class='border-bottom'>   
                            <td class="align-middle" rowspan="2">{{ registant.category.value }} </td>                            
                            <td class="align-middle" rowspan="2">{{ registant.callsign }} </td>                                             
                            <td class="align-middle" rowspan="2">{{ registant.aircraftSpeed.value }} </td>                       
                            <td>{{ registant.pilot.lastname }}  {{ registant.pilot.firstname }}</td>
                            <td>{{ registant.pilot.flyingclub }}</td>                             
                            <td>{{ registant.navigator.licenseFfa }}</td>  
                            <td>{{ registant.pilot.email }}</td> 
                            <td>{{ registant.pilot.phone }}</td> 
                            <td>{{ registant.pilot.committee.value|slice(0, 2) }}</td> 
                        </tr>
                        <tr class='border-bottom'>             
                            <td>{{ registant.navigator.lastname }}  {{ registant.navigator.firstname }}</td>
                            <td>{{ registant.navigator.flyingclub }}</td> 
                            <td>{{ registant.navigator.licenseFfa }}</td>                             
                            <td>{{ registant.navigator.email }}</td> 
                            <td>{{ registant.navigator.phone }}</td>                                    
                            <td>{{ registant.pilot.committee.value |slice(0, 2)}}</td>  
                        </tr>        
                    {% endif %}
                {% endfor %} 
            </tbody>
        </table>
    </section>                 
  {% endblock main %}
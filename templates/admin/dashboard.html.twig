{# templates/admin/my_dashboard.html.twig #}
{% extends '@EasyAdmin/layout.html.twig' %}


{% block main %}
    {{ parent() }}

{% endblock main %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.toggle-password').forEach(button => {
                button.addEventListener('click', () => {
                    const input = button.closest('.position-relative').querySelector('input');
                    const icon = button.querySelector('i');
                    const isPassword = input.type === 'password';
                    input.type = isPassword ? 'text' : 'password';
                    icon.classList.toggle('fa-eye', !isPassword);
                    icon.classList.toggle('fa-eye-slash', isPassword);
                });
            });
        });
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.js-confirm-anonymize').forEach(function (el) {
                el.addEventListener('click', function (e) {
                    const message = "⚠️ Cette action rendra l’utilisateur définitivement anonyme.\nToutes ses informations personnelles seront supprimées et cette opération est irréversible.\n\nÊtes-vous sûr de vouloir continuer ?";
                    if (!confirm(message)) {
                        e.preventDefault();
                    }
                });
            });
        });
    </script>
{% endblock %}